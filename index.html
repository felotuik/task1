<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="renderer" content="webkit"><title>云文件</title><script type="text/javascript" src="jquery.min.js"></script><style>@charset "UTF-8";::-webkit-scrollbar{width:12px;height:16px;background-color:#F5F5F5}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#F5F5F5}::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#999;border-radius:8px}::-webkit-scrollbar-thumb:hover{background-color:#777}::selection{background:#B1D7FF;color:#444}*{margin:0;padding:0;outline:0;font-family:"microsoft yahei";font-size:14px}*,:after,:before{-webkit-box-sizing:border-box;box-sizing:border-box}html{color:#333;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body,html{min-height:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{color:inherit;text-decoration:none;background-color:transparent}a:active,a:hover{text-decoration:none}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1,h2,h3,h4,h5,h6{font-weight:400}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}iframe{display:block}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}.text-x{color:#444}.text-xx{color:#666}.text-xxx{color:#999}.text-black{color:#000}.text-white{color:#fff}.text-blue{color:#458fce}.text-green{color:#19B955}.text-red{color:#f36161}.text-kaiti{font-family:KaiTi_GB2312}.text-heiti{font-family:'黑体'}.text-songti{font-family:'宋体'}.text-arial{font-family:Arial}.text-xs{font-size:12px}.text-sm{font-size:14px}.text-md{font-size:16px}.text-lg{font-size:18px}.text-xl{font-size:20px}.text-xxl{font-size:22px}.text-xxxl{font-size:24px}.text-none{text-decoration:none}.text-bold{font-weight:700}.text-bold-none{font-weight:400}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-omit{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.br-auto{word-wrap:break-word}.resize-auto{resize:auto}.resize-none{resize:none}.text-middle{vertical-align:middle}.text-top{vertical-align:top}.text-bottom{vertical-align:bottom}.line-height-0{line-height:0!important}.line-height-5{line-height:5px!important}.line-height-10{line-height:10px!important}.line-height-15{line-height:15px!important}.line-height-20{line-height:20px!important}.line-height-25{line-height:25px!important}.line-height-30{line-height:30px!important}.line-height-35{line-height:35px!important}.line-height-40{line-height:40px!important}.line-height-45{line-height:45px!important}.line-height-50{line-height:50px!important}.bg-black{background-color:#000}.bg-white{background-color:#fff}.bg-blue{background-color:#458fce}.bg-red{background-color:#f36161}.bg-mild{background-color:#eef1f5}.hover-underline:hover{text-decoration:underline}.container{margin-left:auto;margin-right:auto;width:100%;max-width:1000px}.container-lg{max-width:1200px}.container:after,.container:before{content:" ";display:table}.container:after{clear:both}.lay-md-1,.lay-md-10,.lay-md-11,.lay-md-12,.lay-md-2,.lay-md-3,.lay-md-4,.lay-md-5,.lay-md-6,.lay-md-7,.lay-md-8,.lay-md-9,.lay-sm-1,.lay-sm-10,.lay-sm-11,.lay-sm-12,.lay-sm-2,.lay-sm-3,.lay-sm-4,.lay-sm-5,.lay-sm-6,.lay-sm-7,.lay-sm-8,.lay-sm-9{float:left;position:relative;padding-left:15px;padding-right:15px}.lay-md-1,.lay-sm-1{width:8.33333333%}.lay-md-2,.lay-sm-2{width:16.66666667%}.lay-md-3,.lay-sm-3{width:25%}.lay-md-4,.lay-sm-4{width:33.33333333%}.lay-md-5,.lay-sm-5{width:41.66666667%}.lay-md-6,.lay-sm-6{width:50%}.lay-md-7,.lay-sm-7{width:58.33333333%}.lay-md-8,.lay-sm-8{width:66.66666667%}.lay-md-9,.lay-sm-9{width:75%}.lay-md-10,.lay-sm-10{width:83.33333333%}.lay-md-11,.lay-sm-11{width:91.66666667%}.lay-md-12,.lay-sm-12{width:100%}.middle{display:block;margin-left:auto;margin-right:auto}.show{display:block}.hide{display:none}.p-0{padding:0!important}.p-5{padding:5px!important}.p-10{padding:10px!important}.p-15{padding:15px!important}.p-20{padding:20px!important}.p-25{padding:25px!important}.p-30{padding:30px!important}.p-35{padding:35px!important}.p-40{padding:40px!important}.p-45{padding:45px!important}.p-50{padding:50px!important}.p-100{padding:100px!important}.p-t-0{padding-top:0!important}.p-t-5{padding-top:5px!important}.p-t-10{padding-top:10px!important}.p-t-15{padding-top:15px!important}.p-t-20{padding-top:20px!important}.p-t-25{padding-top:25px!important}.p-t-30{padding-top:30px!important}.p-t-35{padding-top:35px!important}.p-t-40{padding-top:40px!important}.p-t-45{padding-top:45px!important}.p-t-50{padding-top:50px!important}.p-t-100{padding-top:100px!important}.p-r-0{padding-right:0!important}.p-r-5{padding-right:5px!important}.p-r-10{padding-right:10px!important}.p-r-15{padding-right:15px!important}.p-r-20{padding-right:20px!important}.p-r-25{padding-right:25px!important}.p-r-30{padding-right:30px!important}.p-r-35{padding-right:35px!important}.p-r-40{padding-right:40px!important}.p-r-45{padding-right:45px!important}.p-r-50{padding-right:50px!important}.p-r-100{padding-right:100px!important}.p-b-0{padding-bottom:0!important}.p-b-5{padding-bottom:5px!important}.p-b-10{padding-bottom:10px!important}.p-b-15{padding-bottom:15px!important}.p-b-20{padding-bottom:20px!important}.p-b-25{padding-bottom:25px!important}.p-b-30{padding-bottom:30px!important}.p-b-35{padding-bottom:35px!important}.p-b-40{padding-bottom:40px!important}.p-b-45{padding-bottom:45px!important}.p-b-50{padding-bottom:50px!important}.p-b-100{padding-bottom:100px!important}.p-l-0{padding-left:0!important}.p-l-5{padding-left:5px!important}.p-l-10{padding-left:10px!important}.p-l-15{padding-left:15px!important}.p-l-20{padding-left:20px!important}.p-l-25{padding-left:25px!important}.p-l-30{padding-left:30px!important}.p-l-35{padding-left:35px!important}.p-l-40{padding-left:40px!important}.p-l-45{padding-left:45px!important}.p-l-50{padding-left:50px!important}.p-l-100{padding-left:100px!important}.m-0{margin:0!important}.m-5{margin:5px!important}.m-10{margin:10px!important}.m-15{margin:15px!important}.m-20{margin:20px!important}.m-25{margin:25px!important}.m-30{margin:30px!important}.m-35{margin:35px!important}.m-40{margin:40px!important}.m-45{margin:45px!important}.m-50{margin:50px!important}.m-100{margin:100px!important}.m-t-0{margin-top:0!important}.m-t-5{margin-top:5px!important}.m-t-10{margin-top:10px!important}.m-t-15{margin-top:15px!important}.m-t-20{margin-top:20px!important}.m-t-25{margin-top:25px!important}.m-t-30{margin-top:30px!important}.m-t-35{margin-top:35px!important}.m-t-40{margin-top:40px!important}.m-t-45{margin-top:45px!important}.m-t-50{margin-top:50px!important}.m-t-100{margin-top:100px!important}.m-r-0{margin-right:0!important}.m-r-5{margin-right:5px!important}.m-r-10{margin-right:10px!important}.m-r-15{margin-right:15px!important}.m-r-20{margin-right:20px!important}.m-r-25{margin-right:25px!important}.m-r-30{margin-right:30px!important}.m-r-35{margin-right:35px!important}.m-r-40{margin-right:40px!important}.m-r-45{margin-right:45px!important}.m-r-50{margin-right:50px!important}.m-r-100{margin-right:100px!important}.m-b-0{margin-bottom:0!important}.m-b-5{margin-bottom:5px!important}.m-b-10{margin-bottom:10px!important}.m-b-15{margin-bottom:15px!important}.m-b-20{margin-bottom:20px!important}.m-b-25{margin-bottom:25px!important}.m-b-30{margin-bottom:30px!important}.m-b-35{margin-bottom:35px!important}.m-b-40{margin-bottom:40px!important}.m-b-45{margin-bottom:45px!important}.m-b-50{margin-bottom:50px!important}.m-b-100{margin-bottom:100px!important}.m-l-0{margin-left:0!important}.m-l-5{margin-left:5px!important}.m-l-10{margin-left:10px!important}.m-l-15{margin-left:15px!important}.m-l-20{margin-left:20px!important}.m-l-25{margin-left:25px!important}.m-l-30{margin-left:30px!important}.m-l-35{margin-left:35px!important}.m-l-40{margin-left:40px!important}.m-l-45{margin-left:45px!important}.m-l-50{margin-left:50px!important}.m-l-100{margin-left:100px!important}.p-lr-0{padding-left:0!important;padding-right:0!important}.p-lr-5{padding-left:5px!important;padding-right:5px!important}.p-lr-10{padding-left:10px!important;padding-right:10px!important}.p-lr-15{padding-left:15px!important;padding-right:15px!important}.p-lr-20{padding-left:20px!important;padding-right:20px!important}.p-lr-25{padding-left:25px!important;padding-right:25px!important}.p-lr-30{padding-left:30px!important;padding-right:30px!important}.p-lr-35{padding-left:35px!important;padding-right:35px!important}.p-lr-40{padding-left:40px!important;padding-right:40px!important}.p-lr-45{padding-left:45px!important;padding-right:45px!important}.p-lr-50{padding-left:50px!important;padding-right:50px!important}.p-lr-100{padding-left:100px!important;padding-right:100px!important}.p-tb-0{padding-top:0!important;padding-bottom:0!important}.p-tb-5{padding-top:5px!important;padding-bottom:5px!important}.p-tb-10{padding-top:10px!important;padding-bottom:10px!important}.p-tb-15{padding-top:15px!important;padding-bottom:15px!important}.p-tb-20{padding-top:20px!important;padding-bottom:20px!important}.p-tb-25{padding-top:25px!important;padding-bottom:25px!important}.p-tb-30{padding-top:30px!important;padding-bottom:30px!important}.p-tb-35{padding-top:35px!important;padding-bottom:35px!important}.p-tb-40{padding-top:40px!important;padding-bottom:40px!important}.p-tb-45{padding-top:45px!important;padding-bottom:45px!important}.p-tb-50{padding-top:50px!important;padding-bottom:50px!important}.p-tb-100{padding-top:100px!important;padding-bottom:100px!important}.m-lr-0{margin-left:0!important;margin-right:0!important}.m-lr-5{margin-left:5px!important;margin-right:5px!important}.m-lr-10{margin-left:10px!important;margin-right:10px!important}.m-lr-15{margin-left:15px!important;margin-right:15px!important}.m-lr-20{margin-left:20px!important;margin-right:20px!important}.m-lr-25{margin-left:25px!important;margin-right:25px!important}.m-lr-30{margin-left:30px!important;margin-right:30px!important}.m-lr-35{margin-left:35px!important;margin-right:35px!important}.m-lr-40{margin-left:40px!important;margin-right:40px!important}.m-lr-45{margin-left:45px!important;margin-right:45px!important}.m-lr-50{margin-left:50px!important;margin-right:50px!important}.m-lr-100{margin-left:100px!important;margin-right:100px!important}.m-tb-0{margin-top:0!important;margin-bottom:0!important}.m-tb-5{margin-top:5px!important;margin-bottom:5px!important}.m-tb-10{margin-top:10px!important;margin-bottom:10px!important}.m-tb-15{margin-top:15px!important;margin-bottom:15px!important}.m-tb-20{margin-top:20px!important;margin-bottom:20px!important}.m-tb-25{margin-top:25px!important;margin-bottom:25px!important}.m-tb-30{margin-top:30px!important;margin-bottom:30px!important}.m-tb-35{margin-top:35px!important;margin-bottom:35px!important}.m-tb-40{margin-top:40px!important;margin-bottom:40px!important}.m-tb-45{margin-top:45px!important;margin-bottom:45px!important}.m-tb-50{margin-top:50px!important;margin-bottom:50px!important}.m-tb-100{margin-top:100px!important;margin-bottom:100px!important}.top-0{top:0!important}.right-0{right:0!important}.bottom-0{bottom:0!important}.left-0{left:0!important}.float-left{float:left!important}.float-right{float:right!important}* html .float-clear{zoom:1}.float-clear:after{content:" ";display:block;clear:both;font-size:0;height:0}.display-inline{display:inline!important}.display-inline-block{display:inline-block!important}.visibility-visible{visibility:visible!important}.visibility-hidden{visibility:hidden!important}.overflow-hidden{overflow:hidden!important}.overflow-auto{overflow:auto!important}.overflow-y-auto{overflow-y:auto!important}.overflow-x-auto{overflow-x:auto!important}.position-fixed{position:fixed!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.b-none{border:0!important}.b-t-none{border-top:0!important}.b-r-none{border-right:0!important}.b-b-none{border-bottom:0!important}.b-l-none{border-left:0!important}.b-r-0{border-radius:0!important}.b-r-2{border-radius:2px!important}.b-r-4{border-radius:4px!important}.b-r-6{border-radius:6px!important}.b-r-8{border-radius:8px!important}.b-r-10{border-radius:10px!important}.b-r-all{border-radius:50%!important}.list-style-none{list-style:none}.cursor-auto{cursor:auto!important}.cursor-pointer{cursor:pointer!important}.cursor-default{cursor:default!important}.cursor-crosshair{cursor:crosshair!important}.cursor-inherit{cursor:inherit!important}.cursor-not{cursor:not-allowed!important}
body{background-color:#f5f5f5}
.inp[type=text]{padding:6px 7px;border:1px solid #bbb;box-shadow:0 0 4px #ddd;transition:.2s}
.inp[type=text]:hover{border-color:#aaa}
.inp[type=text]:focus{border-color:#1488F5;box-shadow:0 0 5px #A2CFFB}
.btn{background-color:#eee;color:#666;border:1px solid silver;padding:6px 10px;transition:.2s;background:-webkit-gradient(linear,0 40%,0 70%,from(#f9f9f9),to(#F1F1F1));box-shadow:0 1px 5px #eee}
.btn:hover{border-color:#aaa;box-shadow:0 1px 5px #ccc}
.btn:active{color:#555;background:-webkit-gradient(linear,0 40%,0 70%,from(#f1f1f1),to(#f9f9f9))}
.btn.btn-blue{background:#1488F5;color:#fff;border-color:transparent}
.btn.btn-blue:hover{box-shadow:1px 1px 10px #BBDBFC}
.btn.btn-blue:active{color:#CEE6FD}
.main{background-color:#fff}
.main>h1{font-size:36px}
.head input{background-color:#fff;border:0;border-bottom:2px solid #e8e8e8}
.head input:focus{border-color:#33B5E5}
.main>.head>.search-file{margin-left:-1px}
.main>.head .site a{color:#00C;text-decoration:underline;display:inline-block;line-height:30px}
.main>.head .site a:active{color:red}
.main>.head .site span.forward{display:inline-block;margin:0 9px;color:#999!important;text-decoration:none!important}
.main>.body>.operation .btn{margin-right:4px}
.main>.body .operation input[type=file]{transition:.6s;height:34px;border-color:#444}
.main>.body>.filelist{list-style:none;border-radius:4px;border:1px solid #ddd}
.main>.body>.filelist>li.head{background-color:#F1F8FF;border-bottom:1px solid #C8E1FF;padding:6px 10px}
.main>.body>.filelist .main{overflow-y:auto;height:495px}
.main>.body>.filelist .main li.unit{padding:6px 10px 6px 34px;border-bottom:1px solid #eee;background:no-repeat 8px 5px;background-image:url(icon/white.png)}
.main>.body>.filelist .main li.unit:hover{background-color:#f8f8f8}
.main>.body>.filelist .main li.unit.active{background-color:#F1F8FF;border-color:#A8D4FF}
.main>.body>.filelist .main li.unit.folder{background-image:url(icon/folder.png)}
.main>.body>.filelist .main li.unit.file{background-image:url(icon/file.png)}
.main>.body>.filelist .main li.unit.zip{background-image:url(icon/zip.png)}
.main>.body>.filelist .main li.unit.css{background-image:url(icon/code.png)}
.main>.body>.filelist .main li.unit.js{background-image:url(icon/code.png)}
.main>.body>.filelist .main li.unit.html{background-image:url(icon/code.png)}
.main>.body>.filelist .main li.unit.php{background-image:url(icon/code.png)}
.main>.body>.filelist .main li.unit.png{background-image:url(icon/png.png)}
.main>.body>.filelist .main li.unit.jpg{background-image:url(icon/jpg.png)}
.main>.body>.filelist .main li.unit.bmp{background-image:url(icon/jpg.png)}
.main>.body>.filelist .main li.unit.gif{background-image:url(icon/gif.png)}
.main>.body>.filelist .main li.unit.txt{background-image:url(icon/word.png)}
.main>.body>.filelist .main li.unit.word{background-image:url(icon/word.png)}
.main>.body>.filelist li>a{color:#0366d6}
.main>.body>.filelist li>a:hover{text-decoration:underline}
.main>.body>.filelist input[type=checkbox]{cursor:pointer;display:block;transform:scale(1.5);margin-top:4.4px}
.task{width:100%;position:absolute;left:0;bottom:0;background-color:rgba(255,255,255,.6);border-top:2px solid #666}
.task>.item{display:inline-block;padding:10px 20px;color:#fff;background:#666;margin-top:-5px;margin-left:10px;max-width:10%;transition:height .4s;cursor:pointer}
.task>.item>.title{font-size:20px;margin-bottom:3px}
.task>.item>.info{opacity:.8;max-width:100%}
.task>.tasking{padding:3px 10px;position:absolute;left:0;top:-2em;right:0;width:auto;background-color:#FDEB9B}
.task>.tasking>.close{position:absolute;right:20px;top:50%;margin-top:-17px;background-color:#CB5D26;color:#fff;padding:1px 8px 3px 8px;border-radius:50%;border:0}
.banoper{position:absolute;top:0;left:0;right:0;bottom:0;width:auto;height:auto;background-color:rgba(255,255,255,.6);color:#888;cursor:default}
.banoper span{position:absolute;display:block;top:50%;margin-top:-5px;width:100%;text-align:center}
.folder-info{list-style:none}
.folder-info li{display:inline-block;font-weight:400;color:#586069;font-size:12px;border-right:1px solid #999;padding-right:9px;margin-left:6px}
.folder-info li:first-child{margin:0}
.folder-info li:last-child{border:0;padding:0}
</style>
</head>
<body>
	<div class="main container m-t-50 p-20">
        <h1 class="text-center text-bold m-tb-25">LBFile</h1>
        <div class="head float-clear">
            <div class="float-left" style="width:70%;">
                <button class="btn text-bold back-path">&lt;</button>
                <div class="site display-inline-block m-l-10">
                    <a href="javascript:;" data-path="">Index</a>
                    <span class="forward">></span>
                </div>
            </div>
            <div class="float-right" style="width:30%;">
                <input type="text" class="search-file p-tb-5 p-lr-5" placeholder="搜索文件" style="width:100%;">
            </div>
        </div>
        <div class="body m-t-15">
            <div class="operation">
                <button class="btn btn-blue f5">刷新</button>
                <button class="btn new">新建</button>
                <button class="btn up">上传</button>
                <input type="file" class="btn" style="width:0px;display:none;">
                <button class="btn del">删除</button>
                <button class="btn copy">复制</button>
                <button class="btn rename">重命名</button>
                <button class="btn move">移动</button>
                <button class="btn unzip">解压</button>
                <button class="btn cesu">测速</button>
                <button class="btn lxxz">离线下载</button>
                <button class="btn phpinfo">PHPInfo</button>
            </div>
            <ul class="filelist m-t-15">
                <li class="head text-bold p-tb-10 float-clear">
                    文件列表
                    <ul class="folder-info display-inline-block m-l-10">
                        <li>占用空间：<span></span></li>
                        <li>最后修改：<span></span></li>
                    </ul>
                    <input type="checkbox" class="float-right quanxuan">
                </li>
                <div class="main float-clear"></div>
            </ul>
        </div>
    </div>
    <div class="task hide">
        <div class="tasking text-md text-bold" style="display:none">
            <span class="info"></span>
            <button class="close text-xxl">×</button>
        </div>
        <div class="item">
            <p class="title">离线下载...</p>
            <p class="info text-omit">http://static.qq.com/css/common.css</p>
        </div>
    </div>
</body>
<script>
var path='';$('.task>.item').click(function(){$('.task>.tasking').fadeIn();$('.task>.tasking>.info').html('正在'+$(this).find('.title').html()+'：'+$(this).find('.info').html())});$('.task>.tasking>.close').click(function(){$('.task>.tasking').fadeOut()});function banOper(site,content){if(content!==false){if($(site).css('position')!=='absolute'){$(site).css('position','relative')}$(site).append('<div class="banoper"><span>'+content+'</span></div>')}else{$(site+' .banoper').hide()}}function getFolder(paths){if(!paths){paths=path}banOper('.filelist','数据拉取中....');ajaxGet({"m":"get_folder_list","path":paths},function(e){alert('网络错误')},function(data){$('.filelist .main').html('');if(data.code==0){for(var i=0;i<data.data.list_info.length;i++){var fileType='';if(data.data.list_info[i]['type']=='folder'){fileType='folder'}else{fileType=data.data.list_info[i]['name'].split('.');fileType=fileType[fileType.length-1]}$('.filelist .main').append('<li class="unit '+fileType+'" data-type="'+fileType+'"><a href="javascript:;">'+data.data.list_info[i]['name']+'</a><input type="checkbox" class="float-right" /></li>')}$('.folder-info li:eq(0) span').html(data.data['folder_size']);$('.folder-info li:eq(1) span').html(data.data['last_edit'])}banOper('.filelist',false)})}getFolder();$('.operation button.f5').click(function(){getFolder()});$('.operation button.new').click(function(){var name=prompt('新建文件夹或文件','folder>');if(name!==null){name=name.split('>');ajaxGet({"m":"new_unit","path":path,"type":name[0],"name":name[1]},function(e){alert('网络错误')},function(data){getFolder()})}});$('.operation button.cesu').click(function(){ajaxGet({"m":"cesu",},function(e){alert('网络错误')},function(data){alert('\n\n测速结果：\n\n文件大小：'+(data.data.filesize)+'\n网速：'+(data.data.netspeed))})});$(".filelist .quanxuan").bind("click",function(){$('.filelist .main li input').each(function(){$(this).attr("checked",!$(this).attr("checked"))})});function setSiteInp(c){$('.head .site span:eq(0)').nextAll().remove();var c1=c.substring(1).split('/');var pathLV='';for(var i=0;i<c1.length;i++){pathLV+='/'+c1[i];$('.head .site').append('<a href="javascript:;" data-path="'+pathLV+'">'+c1[i]+'</a><span class="forward">></span>')}}$(document).on('click','.filelist .main li a',function(){switch($(this).parent().attr('data-type')){case'folder':path=path+'/'+$(this).html();getFolder(path);setSiteInp(path);break;case'php':case'html':case'js':case'css':case'txt':case'ini':case'config':case'json':case'xml':case'md':ajaxGet({"m":"open_file","path":path+'/'+$(this).html()},function(e){alert('网络错误')},function(data){alert(data.data.data)});break;case'zip':case'rar':if(confirm('确定把指定文件按zip解压方式解压到 当前目录？')){ajaxPost({"data":'[{"name":"/'+$(this).html()+'"}]',"path":path},function(e){alert('网络错误')},function(data){alert(data.msg);getFolder(path)},'&m=unzip')}break;case'jpg':case'png':case'bmp':case'gif':window.open((path+'/'+$(this).html()).substring(1),'_blank');break;default:window.location.href='api.php?a=unit&m=dl_file&path='+path+'/'+$(this).html();break}});function getUnit(){var spCodesTemp='';$('.filelist .main li input:checkbox:checked').each(function(i){var type='';var c=$(this).prev().html();if(c.indexOf('.')<0){type='folder'}else{type='file'}var f56fr='';if(i!==0){f56fr=','}spCodesTemp=spCodesTemp+f56fr+'{"type":"'+type+'","name":"'+$(this).prev().html()+'"}'});spCodesTemp='{['+spCodesTemp+']}';return spCodesTemp}$('button.back-path').click(function(){var a=path.substring(1).split('/');$('.site a:eq('+a.length+')').next().remove();$('.site a:eq('+a.length+')').remove();path='';for(var i=1;i<$('.site a').length;i++){path+='/'+$('.site a:eq('+i+')').html()};getFolder(path)});$(document).on('click','.head .site a',function(){if($(this).html()=='Index'){getFolder('/');path='';$('.head .site span:eq(0)').nextAll().remove()}else{getFolder($(this).attr('data-path'));if($(this).attr('data-path')!==path){$(this).nextAll().remove()}path=$(this).attr('data-path')}});$('.operation button.lxxz').click(function(){var lxLink=prompt('输入离线下载的链接','github>');if(lxLink!==null&&lxLink!==''){ajaxPost({"link":lxLink,"path":path},function(){alert('离线下载失败')},function(data){alert('离线下载成功');getFolder(path)},'&m=lxxz')}});$('.operation button.del').click(function(){var spCodesTemp='';$('.filelist .main li input:checkbox:checked').each(function(i){var c=path+'/'+$(this).prev().html();var f56fr='';if(i!==0){f56fr=','}spCodesTemp=spCodesTemp+f56fr+'{"type":"'+$(this).parent().attr('data-type')+'","name":"'+c+'"}'});spCodesTemp='['+spCodesTemp+']';if(spCodesTemp!=='[]'){ajaxPost({"data":spCodesTemp},function(e){alert('网络错误')},function(data){getFolder(path)},'&m=del')}});$('.operation button').click(function(){switch($(this).html()){case'复制':var cueInput='prompt("输入要复制到的文件夹：", "'+path+'")';break;case'移动':var cueInput='prompt("输入要移动到的文件夹：", "'+path+'")';break;case'重命名':var cueInput='prompt("输入文件或目录的新名称：")';break;case'解压':var cueInput='confirm("确定把指定文件按zip解压方式解压到 当前目录？")';break;case'删除':var cueInput='confirm("确定删除所选 文件/目录？")';break;case'PHPInfo':var cueInput='confirm("即将输出PHP服务器详细信息....")';break}var is=eval(cueInput);if(is){var spCodesTemp='';$('.filelist .main li input:checkbox:checked').each(function(i){var c=path+'/'+$(this).prev().html();var f56fr='';if(i!==0){f56fr=','}spCodesTemp=spCodesTemp+f56fr+'{"type":"'+$(this).parent().attr('data-type')+'","name":"'+c+'"}'});spCodesTemp='['+spCodesTemp+']';switch($(this).html()){case'解压':ajaxPost({"data":spCodesTemp,"path":path},function(e){alert('网络错误')},function(data){alert(data.msg);getFolder(path)},'&m=unzip');break;case'复制':ajaxPost({"data":spCodesTemp,"to":is,"path":path},function(e){alert('网络错误')},function(data){alert(data.msg);getFolder(path)},'&m=copy');break;case'移动':ajaxPost({"data":spCodesTemp,"to":is},function(e){alert('网络错误')},function(data){alert(data.msg);getFolder(path)},'&m=move');break;case'删除':ajaxPost({"data":spCodesTemp},function(e){alert('网络错误')},function(data){getFolder(path)},'&m=del');break;case'重命名':ajaxPost({"name":is,"data":spCodesTemp},function(e){alert('网络错误')},function(data){getFolder(path)},'&m=rename');break;case'PHPInfo':window.open('api.php?a=unit&m=phpinfo');break}}});var f56gt=0;$('.operation button.up').click(function(){if(f56gt==0){$('.operation input').show();$('.operation input').css('width','294');f56gt=1}else{if($('.operation input').val()==''){alert('请选择文件~')}else{var formData=$('.operation input').val();$.ajax({type:'POST',url:'api.php?a=unit&m=up&path='+path,enctype:'multipart/form-data',data:{formData},dataType:'html',error:function(e){alert('上传失败')},success:function(data){data=eval('('+data+')');alert('上传成功')}})}}});$(document).on('click','.main>.body>.filelist input',function(){$(this).parent('li').addClass('active')});function ajaxGet(subData,errorFn,successFn){$.ajax({type:'GET',url:'api.php?a=unit',data:subData,cache:false,dataType:'html',error:function(e){errorFn(e)},success:function(data){data=eval('('+data+')');successFn(data)}})}function ajaxPost(subData,errorFn,successFn,addUrl){$.ajax({type:'POST',url:'api.php?a=unit'+addUrl,data:subData,cache:false,dataType:'html',error:function(e){errorFn(e)},success:function(data){data=eval('('+data+')');successFn(data)}})}
</script>
</html>
